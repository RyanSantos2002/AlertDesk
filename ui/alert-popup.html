<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />

    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        overflow: hidden !important;
        width: 100%;
        height: 100%;
      }

      @keyframes slideUp {
        from {
          transform: translateY(30px);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      #toast {
        width: 100%;
        background: rgba(25, 25, 25, 0.92);
        backdrop-filter: blur(12px);
        color: white;
        border-radius: 12px;
        padding: 14px 18px;
        font-family: Arial, sans-serif;
        display: flex;
        flex-direction: column;
        justify-content: center;
        box-sizing: border-box;
        animation: slideUp 0.35s ease-out;
      }

      #title {
        margin: 0 0 5px 0;
        font-size: 18px;
        font-weight: bold;
      }

      #msg {
        margin: 0;
        font-size: 15px;
      }
    </style>
  </head>

  <body>
    <div id="toast">
      <h3 id="title"></h3>
      <p id="msg"></p>
    </div>

    <audio id="alertSound" src="beep.mp3" preload="auto"></audio>

    <script>
      window.electronAPI.receberPopup((data) => {
        document.getElementById("title").innerText =
          "Chamado de " + (data.de || "Desconhecido");

        document.getElementById("msg").innerText =
          data.mensagem || "Mensagem recebida.";

        // toca som
        const audio = document.getElementById("alertSound");
        audio.currentTime = 0;
        audio.play().catch(() => {});
      });
    </script>
  </body>
</html>
